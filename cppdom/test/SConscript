
Import('pkg baseEnv')
Import('HasCppUnit')

env = baseEnv.Copy()
env.Append(CPPPATH = Split('# #test'),
           LIBPATH = ['#cppdom'],
           LIBS = ['cppdom'])

tests = Split("""
   equaltest
   maketree
   nodetest
   parsetest
   predtest
""")

for t in tests:
   prog = pkg.createProgram(t, env)
   prog.addSources([t+'.cpp'])

subdirs = []
if HasCppUnit(baseEnv):
   subdirs.append('suite')
SConscript(dirs = subdirs)
